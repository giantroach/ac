# 概要
- カードゲームのプロトタイプのWebアプリケーション。
- ゲームの手動での検証を主とし、必要最低限のゲームロジックのみを搭載し、大半の処理を手動でするものとする。
- プレイヤーは最大4人を想定しているが、パスアンドプレイ方式、つまり一画面を複数人で交代で操作するものとする。
- ゲーム開始時に何人でプレイするか確認する。
- プレイヤーごとに独立した手札、駒置き場、プレイエリアを持つ。
- プレイヤーの場とは別にプレイヤー間共通の場を持つ。
- 共通の場にはカードのプレイエリアと駒を置くためのグリッドが用意される。
- 各プレイエリアのカードの上、またはグリッドの上にトークンを乗せることができる。これらのトークンはドラッグ&ドロップにより移動できる。
- 手札のカードをドラッグ&ドロップで並び替えできる。
- プレイヤーは固有色のプレイヤーポーンを持ち、共通のプレイエリアのグリッドの上に置く。
- カードは分類ごとの色と、IDとnameのみを表示し、マウスクリックやマウスオーバーなどで詳細を表示するものとする。
- カードの定義はjsoncのコンフィグファイルに記し、このコンフィグファイル経由でカードを調整できるものとする。
- カードは表裏があり、ダブルクリックにより表裏を切り替えられるものとする。
- 画面左にはプレイヤーパネルがあり、どのプレイヤーがアクティブか確認できる。またプレイヤーをクリックすることで強制的にそのプレイヤーのターンに出来る。
- プレイヤーパネルにはクリックにより値を上下できるHPのトラッカー、VPトラッカーが表示される。

# フレームワーク
以下を使用する。
Vue 3 + Vite
├─ 状態管理: Pinia
├─ アニメーション: GSAP
├─ ドラッグ&ドロップ: Vue Draggable
└─ カード詳細表示: カスタムTooltip

# コンフィグ
## game.jsonc
共通の場の
- 共通の場のグリッドのサイズ(default: 1x9 (横長))

## weapons.jsonc
武器の定義。card-ac.jsoncから参照される。
- id (unique number)
- name (string)
- 攻撃力 (string)
- 攻撃範囲 (string)
- special-ability (string)
- remarks (string)

## cores.jsonc
コアの定義。card-ac.jsoncから参照される。
- id (unique number)
- name (string)
- hp (number)
- specialMove (string)
- specialPassive (string)
- remarks (string)

## cards-ac.jsonc
AC タイプの card定義。
ACタイプのカードは表面と裏面でレイアウトが異なる。
表面にはweaponのパラメターを2つ左右に表示する。
裏面にはcoreのパラメターを中央に表示する。

- id (unique number)
- カード表面定義
    - weapon1: weapons.jsonc の id
    - weapon2: weapons.jsonc の id
- カード裏面定義
    - core: cores.jsonc の id

## cards-boss.jsonc
裏面はブランク。
- id (unique number)
- name (string)
- hp (number)
- special-ability (string)
- actions[] (array of string)

## cards-action.jsonc
裏面はブランク。
- id (unique number)
- action (string)

# 実装

## UI要件
1. 全ての操作はマウスにて行える。
2. モバイルサポートはしない。PCの画面全体を活用する。
3. ゲームログを記録し、ログをトグルするボタンまたはチェックボックスなどの機構を設ける。
4. 画面下部に、アクティブプレイヤーの手札と未配置のトークン、ターン終了ボタンを表示する「アクティブプレイヤーエリア」を設ける。非アクティブプレイヤーの手札や未配置のトークンは参照できない。
5. 画面の左端上部にボスの情報を表示する。現在のHPが参照できる。また、ここに小さな+と-のボタンを配置し、HPの値を変更できるようにする。
6. 画面の左端、ボス情報の下に、プレイヤーのリストを配置する。プレイヤーの色、HPとVPが参照できる。またHPとVPの横には小さな+と-のボタンを設置し、それぞれの値を変更できるものとする。
7. グリッド上のトークンはポジションがexclusiveであり、既にトークンの配置された位置に別のトークンがドラッグされた場合、それぞれの位置を交換する。
8. 共通の場のグリッドの下に方向ボタン(◀/▶)を設置する。クリックするたびに◀と▶が切り替わる。

## セットアップ
1. ゲーム開始時にプレイヤー数(1-4)を入力する。
2. cards-ac.jsonc に定義されたカードデッキを作り、シャッフルしたうえで各プレイヤーに3枚ずつ配る。
3. cards-boss.jsonc に定義されたカードデッキを作り、シャッフルしたうえで一枚を表向きに、共通の場に配置する。
4. cards-action.jsonc に定義されたカードを各プレイヤーに、idごとに一枚ずつ配る。(全てのプレイヤーが同じカードを受け取る)
5. 各プレイヤー自分の色のトークンを受け取る。

## プレイヤーのアクション
プレイヤーは自分のターンに以下のアクションを好きなだけ行う。
1. アクティブプレイヤーエリアの手札からカードをドラッグして自分のプレイエリアに配置する。
2. 場のトークンを動かす。
3. 自分のトークンをドラッグしてグリッドに配置する。
4. ターン終了ボタンを押し、次のプレイヤーへとターンを進める。
5. 場に配置されたカードをダブルクリックすることで、カードを裏向きにすることができる。また裏向きのカードをダブルクリックすることで表向きにできる。
